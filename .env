# .env - Налаштування для RAG системи
# Розмістити в кореневій директорії проекту

# ===========================================
# ЗАГАЛЬНІ НАЛАШТУВАННЯ
# ===========================================
COMPOSE_PROJECT_NAME=rag-system
DOCKER_BUILDKIT=1

# ===========================================
# CHROMADB НАЛАШТУВАННЯ
# ===========================================
CHROMA_HOST=chromadb
CHROMA_PORT=8000
IS_PERSISTENT=TRUE
PERSIST_DIRECTORY=/chroma/chroma
ANONYMIZED_TELEMETRY=FALSE

# ===========================================
# RAG SERVICE НАЛАШТУВАННЯ
# ===========================================
# Модель для embeddings
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Параметри чанкування тексту
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_CHUNK_SIZE=2000

# Директорії
UPLOAD_DIR=/app/data/uploads
PROCESSED_DIR=/app/data/processed
COLLECTION_NAME=documents

# Кеш для HuggingFace моделей
HF_HUB_CACHE=/root/.cache/huggingface

# API налаштування
API_HOST=0.0.0.0
RAG_API_PORT=8002
LOG_LEVEL=INFO

# Максимальні розміри файлів (в байтах)
MAX_FILE_SIZE=104857600  # 100MB

# ===========================================
# OLLAMA/LLM НАЛАШТУВАННЯ
# ===========================================
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_HOST=0.0.0.0
OLLAMA_PORT=11434
OLLAMA_KEEP_ALIVE=24h
OLLAMA_DEBUG=INFO
OLLAMA_CONTEXT_LENGTH=4096

# Модель за замовчуванням
DEFAULT_MODEL=llama3.1:8b
OLLAMA_NUM_PARALLEL=1
OLLAMA_MAX_LOADED_MODELS=1

# ===========================================
# LLM SERVICE НАЛАШТУВАННЯ
# ===========================================
LLM_API_PORT=8003
RAG_SERVICE_URL=http://rag-service:8000

# ===========================================
# FRONTEND НАЛАШТУВАННЯ
# ===========================================
FRONTEND_PORT=3000
REACT_APP_RAG_API_URL=http://localhost:8002
REACT_APP_LLM_API_URL=http://localhost:8003

# React розробка
CHOKIDAR_USEPOLLING=true
WDS_SOCKET_HOST=0.0.0.0
WATCHPACK_POLLING=true

# ===========================================
# REDIS НАЛАШТУВАННЯ
# ===========================================
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# ===========================================
# БЕЗПЕКА (якщо потрібно)
# ===========================================
# JWT_SECRET_KEY=your-secret-key-here
# JWT_ALGORITHM=HS256
# JWT_EXPIRE_MINUTES=1440

# ===========================================
# МОНІТОРИНГ ТА ЛОГУВАННЯ
# ===========================================
# Рівень логування для всіх сервісів
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ===========================================
# РОЗРОБКА (тільки для dev середовища)
# ===========================================
# Автоматичне перезавантаження
UVICORN_RELOAD=false
FASTAPI_ENV=production

# ===========================================
# ПРОДАКШН НАЛАШТУВАННЯ
# ===========================================
# Кількість воркерів для API
UVICORN_WORKERS=1
GUNICORN_WORKERS=1

# Таймаути
HTTP_TIMEOUT=30
OLLAMA_REQUEST_TIMEOUT=60

# ===========================================
# НАЛАГОДЖЕННЯ
# ===========================================
# Встановити у true для детального логування
DEBUG_MODE=false
VERBOSE_LOGGING=false

# Профілювання продуктивності
ENABLE_PROFILING=false